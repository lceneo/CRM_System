

<div class="wrapper" *ngIf="(role$ | async) !== AccountRole.Client">
  <h2 class="title">Диалоги</h2>

  <tabset *ngIf = "profile(); else noProfileTemplate">

    <tab heading="Входящие" #tabInbox="tab">
      <app-messages-list
        [tabType]="'Inbox'"></app-messages-list>
    </tab>

    <tab heading="Мои" #tabMine="tab">
      <app-messages-list
        [selectedChat]="selectedTab?.heading === 'Мои' ? (selectedTab?.chat ?? null) : null"
        [tabType]="'Mine'"></app-messages-list>
    </tab>

    <tab heading="Архив" #tabArchive="tab">
      <app-messages-list
        [tabType]="'Archive'"
      ></app-messages-list>
    </tab>

    <tab heading="Заблокированные" #tabBlocked="tab">
      <app-messages-list
        [tabType]="'Block'"
      ></app-messages-list>
    </tab>
  </tabset>


  <ng-template #noProfileTemplate>

    <section class="noProfile">
      <p class="noProfileText">Диалоги не доступны, пока не создан профиль</p>

      <button class="btn btn-primary"
      [routerLink]="['/profile']"
      >Создать профиль</button>
    </section>
  </ng-template>
</div>
